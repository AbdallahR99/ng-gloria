<img src="images/home-cover.png" alt="" class="img-fluid w-full" />
<div class="container py-3 mx-auto">
  <section class="mb-20 categories">
    <h3 class="my-8 text-center text-4xl">
      {{"Shop By Category" | translate}}
    </h3>

    <div class="grid grid-cols-2 sm:grid-cols-4 sm:grid-cols-6 lg:grid-cols-8 gap-4">
      @for (item of categories.value()?.items; track item.id) {
      @let name = isEn ? item.nameEn : item.nameAr;
      <a [routerLink]="appRoutes.PRODUCTS" [queryParams]="{category: item.slug}"
        class="group flex flex-col items-center text-center ">
        <div class="avatar ">
          <div
            class="w-24 h-24 group-hover:shadow-md shadow-gray-300/50 transition-shadow rounded-full border border-gray-300 bg-gray-100 overflow-hidden">
            <img [src]="item.image" alt="{{name}}" class="object-contain w-full h-full" />
          </div>
        </div>
        <span class="mt-2 text-sm font-medium group-hover:text-secondary transition-colors">{{name}}</span>
      </a>
      }
    </div>
  </section>
  <section class="mb-8 top-discounts">
    <h3 class="mb-4 font-medium text-3xl">
      {{"Today's Discounts" | translate}}
    </h3>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4">
      @for (item of productsTodayDiscounts.value()?.items; track item.id) {

      <ng-container *ngTemplateOutlet="productCard; context: {$implicit: item}"></ng-container>

      }
    </div>
  </section>

  <section class="mb-8 new-arrivals">
    <h3 class="mb-4 font-medium text-3xl">
      {{"New Arrivals" | translate}}
    </h3>

    <div class="grid grid-cols-1 sm:grid-cols-3 md:grid-cols-9 lg:grid-cols-10 gap-4">
      <div
        style="background: linear-gradient(180deg, rgba(255, 255, 255, 0.00) 7.29%, rgba(53, 53, 53, 0.16) 40.73%), url(/images/newProductsSection.jpg) lightgray 50% / cover no-repeat;"
        class="rounded-lg text-neutral-content col-span-1 sm:col-span-1">
        <div class="card-body flex justify-center items-center h-full text-center">
          <h3 class="text-3xl text-wrap font-medium">{{"New Arrivals" | translate}}</h3>
          <div class="text-end flex justify-end w-full">
            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 74 74" fill="none">
              <path
                d="M47.9998 10C33.6405 10 22 21.6405 22 35.9998C22 50.359 33.6405 62 47.9998 62C62.359 62 74 50.359 74 35.9998C73.9838 21.6471 62.3529 10.0161 47.9998 10ZM47.9998 59.3997C35.0763 59.3997 24.5998 48.9233 24.5998 35.9998C24.5998 23.0763 35.0763 12.5998 47.9998 12.5998C60.9233 12.5998 71.3997 23.0763 71.3997 35.9998C71.3849 48.917 60.917 59.3849 47.9998 59.3997Z"
                fill="currentColor" />
              <path
                d="M44.9555 25.9216C44.4147 25.4487 43.5935 25.504 43.1207 26.0444C42.6485 26.5852 42.7037 27.4064 43.2441 27.8791L52.5256 36L43.2436 44.1214C42.7027 44.5941 42.648 45.4153 43.1203 45.9556C43.593 46.4965 44.4142 46.5517 44.9551 46.0789L55.3549 36.9788C55.4944 36.8567 55.6063 36.7062 55.6829 36.5374C55.7595 36.3686 55.7992 36.1853 55.7992 35.9999C55.7992 35.8145 55.7595 35.6313 55.6829 35.4625C55.6063 35.2936 55.4944 35.1432 55.3549 35.0211L44.9555 25.9216Z"
                fill="currentColor" />
            </svg>
          </div>
        </div>
      </div>
      @for (item of productsNewArrival.value()?.items; track item.id) {
      <div class="col-span-2"><ng-container *ngTemplateOutlet="productCard; context: {$implicit: item}"></ng-container>
      </div>

      }
    </div>
  </section>



</div>
<section class="mb-8 brand-feature bg-primary-content container">
  <div class="flex flex-col md:flex-row gap-6 items-center">
    <div class="md:w-1/2 text-center md:text-left">
      <h2 class="text-2xl font-bold mb-2">Mon Guerialian</h2>
      <div class="mb-4">
        <h3 class="text-lg font-medium mb-2">Perfume</h3>
        <p class="text-base-content/80 mb-4">Ingredient, Ingredient & Ingredient</p>
        <p class="text-sm mb-3">
          "Lorem Ipsum is simply dummy text of the printing and typesetting in... Lorem Ipsum has been the industry
          standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to
          make a type specimen book."
        </p>
        <button class="btn btn-neutral">View Details</button>
      </div>
    </div>
    <div class="md:w-1/2 relative">
      <img src="images/perfume1.png" alt="Perfume" class="mx-auto" />
      <div class="absolute top-0 md:top-1/4 left-0">
        <div class="bg-base-100 px-3 py-2 rounded-md mb-2">Ingredient</div>
      </div>
      <div class="absolute top-1/3 md:top-1/2 right-0">
        <div class="bg-base-100 px-3 py-2 rounded-md mb-2">Ingredient</div>
      </div>
      <div class="absolute bottom-0 md:bottom-1/4 left-1/4">
        <div class="bg-base-100 px-3 py-2 rounded-md">Ingredient</div>
      </div>
    </div>
  </div>
</section>

<section class="mb-8 grid grid-cols-1 md:grid-cols-2 gap-6 md:hidden container">
  <div class="bg-base-200 p-8 flex items-center justify-center">
    <div class="flex flex-wrap gap-6 justify-center">
      <div class="w-24 h-24 bg-base-100 rounded-md flex items-center justify-center">
        <img src="images/perfume1.png" alt="Product" class="max-h-full" />
      </div>
      <div class="w-24 h-24 bg-base-100 rounded-md flex items-center justify-center">
        <img src="images/perfume2.png" alt="Product" class="max-h-full" />
      </div>
      <div class="w-24 h-24 bg-base-100 rounded-md flex items-center justify-center">
        <img src="images/perfume3.png" alt="Product" class="max-h-full" />
      </div>
      <div class="w-24 h-24 bg-base-100 rounded-md flex items-center justify-center">
        <img src="images/perfume4.png" alt="Product" class="max-h-full" />
      </div>
    </div>
  </div>
  <div class="bg-primary text-primary-content p-8 flex flex-col items-center justify-center">
    <div class="text-center">
      <h2 class="text-2xl font-bold mb-4">Natural Skin Care Products</h2>
    </div>
  </div>
</section>

<section class="max-md:hidden">
  <img src="images/home-promo" width="w-full" alt="">
</section>
<section class="mb-8 testimonials bg-primary-content ">
  <h3 class="text-center mb-6">
    {{"What our Client Says" | translate}}
  </h3>
  <div class="carousel w-full container">
    <div class="carousel-item w-full">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        @for (review of [
        {
        stars: 5,
        text: "Lorem Ipsum is simply dummy text of the printing and typesetting in... Lorem Ipsum has been the
        industry standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled
        it to make a type specimen book.",
        author: "Mar Ali",
        date: "May 2025"
        },
        {
        stars: 5,
        text: "Lorem Ipsum is simply dummy text of the printing and typesetting in... Lorem Ipsum has been the
        industry standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled
        it to make a type specimen book.",
        author: "Mar Ali",
        date: "May 2025"
        },
        {
        stars: 5,
        text: "Lorem Ipsum is simply dummy text of the printing and typesetting in... Lorem Ipsum has been the
        industry standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled
        it to make a type specimen book.",
        author: "Mar Ali",
        date: "May 2025"
        }
        ]; track review.author) {
        <div class="card bg-base-100 p-6">
          <div class="flex mb-2">
            @for (star of [1, 2, 3, 4, 5]; track star) {
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-yellow-400" viewBox="0 0 20 20"
              fill="currentColor">
              <path
                d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
            </svg>
            }
          </div>
          <p class="text-sm mb-4">{{review.text}}</p>
          <div class="flex justify-between items-center">
            <div>{{review.author}}</div>
            <div class="text-xs text-base-content/70">{{review.date}}</div>
          </div>
          <div class="mt-4 text-4xl text-primary">"</div>
        </div>
        }
      </div>
    </div>
  </div>
  <div class="flex justify-center gap-2 mt-4">
    <button class="btn btn-circle btn-sm btn-outline">❮</button>
    <button class="btn btn-circle btn-sm btn-outline">❯</button>
  </div>
</section>

<div class="bg-white container">
  <section class="mb-8 why-choose-us">
    <h3 class="text-center mb-6">
      {{"Why Choose Us" | translate}}
    </h3>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 text-center">
      <div class="flex flex-col items-center">
        <div class="avatar mb-4">
          <div class="w-16 h-16 rounded-full bg-base-200 flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
          </div>
        </div>
        <h4 class="font-medium mb-1">100% Natural</h4>
        <p class="text-sm text-base-content/70">High quality products</p>
      </div>
      <div class="flex flex-col items-center">
        <div class="avatar mb-4">
          <div class="w-16 h-16 rounded-full bg-base-200 flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M20 7l-8 4-8-4m16 0l-8 4m8 4l-8 4-8-4m16 0l-8 4" />
            </svg>
          </div>
        </div>
        <h4 class="font-medium mb-1">Free shipping</h4>
        <p class="text-sm text-base-content/70">On all orders over $50</p>
      </div>
      <div class="flex flex-col items-center">
        <div class="avatar mb-4">
          <div class="w-16 h-16 rounded-full bg-base-200 flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" />
            </svg>
          </div>
        </div>
        <h4 class="font-medium mb-1">24/7 Support</h4>
        <p class="text-sm text-base-content/70">Dedicated support</p>
      </div>
      <div class="flex flex-col items-center">
        <div class="avatar mb-4">
          <div class="w-16 h-16 rounded-full bg-base-200 flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
            </svg>
          </div>
        </div>
        <h4 class="font-medium mb-1">Return policy</h4>
        <p class="text-sm text-base-content/70">Easy returns</p>
      </div>
    </div>
  </section>

  <section class="mb-8 get-in-touch">
    <h3 class="text-center mb-6">
      {{"Get in Touch" | translate}}
    </h3>
    <div class="flex flex-col md:flex-row gap-6">
      <div class="md:w-1/3">
        <div class="relative h-72">
          <div class="absolute h-full w-full p-4">
            <img src="images/perfume4.png" alt="Products" class="max-h-full mx-auto" />
          </div>
        </div>
      </div>
      <div class="md:w-2/3">
        <form>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
            <div>
              <input type="text" placeholder="Your Name" class="input input-bordered w-full" />
            </div>
            <div>
              <input type="email" placeholder="Your Email" class="input input-bordered w-full" />
            </div>
          </div>
          <div class="mb-4">
            <textarea class="textarea textarea-bordered w-full h-24" placeholder="Your Message"></textarea>
          </div>
          <div class="flex justify-end">
            <button class="btn btn-primary btn-block md:btn-wide">SEND</button>
          </div>
        </form>
      </div>
    </div>
  </section>
</div>


<ng-template #productCard let-item>
  @let name = isEn ? item.nameEn : item.nameAr;
  <a [routerLink]="[appRoutes.PRODUCT_DETAILS, item.id]">
    <div
      class="__product_card hover:shadow-md shadow-gray-300/50 cursor-pointer transition-shadow rounded-lg relative border border-gray-200 flex flex-col">
      <button class="btn btn-link btn-sm px-1 hover:text-secondary absolute z-10 right-0 top-0">
        <mat-icon class="scale-75" svgIcon="heart" />
      </button>
      <figure class="aspect-square flex items-center justify-center bg-gray-100 p-1 max-h-[250px]">
        <img [src]="item.image" alt="{{name}}" class="h-full object-contain aspect-square" />
      </figure>
      <div class="__card-body flex flex-col p-3">

        <h4 class="text-sm font-medium mb-2">{{name}}</h4>
        <div class="flex m-auto">
          @for (star of [1, 2, 3, 4, 5]; track star) {
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" [class.text-yellow-400]="star <= item.stars"
            [class.text-gray-300]="star > item.stars" viewBox="0 0 20 20" fill="currentColor">
            <path
              d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
          </svg>
          }
          <span class="text-xs ml-1">({{item.reviews}})</span>
        </div>
        @if (item.quantity == 0) {
        <div class="flex items-center gap-1 text-error m-auto ">
          <div class="badge badge-error badge-xs h-2 w-2 "></div>
          <div class="text-xs">{{"Out of Stock" | translate}}</div>

        </div>

        } @else {

        <div class="m-auto text-sm flex gap-2 flex-wrap">
          <span class="font-normal">AED {{item.price}}</span>
          <span class="line-through text-gray-400">AED {{item.oldPrice}}</span>
        </div>
        }

        <button
          class="btn btn-primary font-normal btn-sm mt-2 text-white flex items-center gap-1 shadow-none hover:text-secondary">
          <mat-icon class="scale-65" svgIcon="cart" />
          <span>
            {{"Add to Cart" | translate}}
          </span>
        </button>
      </div>
    </div>
  </a>
</ng-template>
